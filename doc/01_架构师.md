# UML图形思考



## 1，建模与图形思考

开发初期就要建立模型，用图形表达，在表达过程中要思考。

架构师地职责就是创意设计与人沟通。在规划架构或框架地阶段，还没开始动工撰写Android程序，怎么进行创意思考呢？又如何将创意设计表达出来，争取到各方面支持呢？



## 2，UML软件图形语言和工具

语言共通才能彼此沟通。

**图形建模：**

模型内涵一组基本概念，及其间地关系。如果以图形表示出来，就能发挥图形思考地效益了

**UML图形语言**

协助架构师发挥其图形思考，表达出系统架构地模型。



1，Class Diagram  ：类图

2，Use Case Diagram ：用例图

3，Statemachine Diagram ：状态机图

4，Sequence Diagram：顺序图

5，Activity Diagram ：活动图

6，Communication Diagram：通信图

7，Component Diagram：模块图

8，Deployment Diagram：部署图

9，Composite Structure Diagram：组合结构图



# EIT造行

![image-20221024112436232](01_%E6%9E%B6%E6%9E%84%E5%B8%88.assets/image-20221024112436232-16665818782315.png)

汽车地引擎通过接口驱动轮胎，取第一个字母为EIT



基类/子类地扩充（extend）类型



**基本造行**

```java
   public static void main(String[] args) {
        Thread t = new Task();
        t.start();
    }



    static class Task extends Thread {
        @Override
        public void run() {
            super.run();
            //TODO do some thing
        }
    }
```

![image-20221024112038117](01_%E6%9E%B6%E6%9E%84%E5%B8%88.assets/image-20221024112038117-16665816399192.png)

![image-20221024112231450](01_%E6%9E%B6%E6%9E%84%E5%B8%88.assets/image-20221024112231450-16665817525114.png)

**变形**

```java
static class TaskRunable implements  Runnable{
    @Override
    public void run() {
        //TODO do some thing
    }
}


Thread t2 = new Thread(new TaskRunable());
        t2.start(); 
```

![image-20221024112010933](01_%E6%9E%B6%E6%9E%84%E5%B8%88.assets/image-20221024112010933-16665816119681.png)

![image-20221024112151562](01_%E6%9E%B6%E6%9E%84%E5%B8%88.assets/image-20221024112151562-16665817124793.png)



## 认识EIT造形与内涵

![image-20221024183625304](01_%E6%9E%B6%E6%9E%84%E5%B8%88.assets/image-20221024183625304-16666077868186.png)



![image-20221024183642956](01_%E6%9E%B6%E6%9E%84%E5%B8%88.assets/image-20221024183642956-16666078047047.png)



![image-20221024183759254](01_%E6%9E%B6%E6%9E%84%E5%B8%88.assets/image-20221024183759254-16666078804008.png)

造形特性：形式简单，内涵复杂，重复组合。

# 架构师决策

将哪些内涵放入EIT造形中

内涵主要来源：需求

**将需求分为两种：**

1，第一种需求：成为基类的内涵

2，第二种需求：成为子类的内涵

比如动作的规定一般在基类，而具体实现则是在子类。



**两种需求的时间差距**

这两种知识的取得，会有时间**落差**

第一种需求：先取得

第二种需求：后取得

举例：咖啡

![image-20221024185942145](01_%E6%9E%B6%E6%9E%84%E5%B8%88.assets/image-20221024185942145-16666091837459.png)

以**<买主来到>**的时间点加以切分

第一种需求：买主来之前就已知的需求知识（基类E）。比如又拿铁，摩卡咖啡

第二种需求：买主来之后才知道的需求知识（子类T）。比如是半糖，还是无糖，要不要加奶等

两者通过接口（I）来连接起来。



**分合概念：**架构师要分好各模块，各职责。并设计好通过什么方式和具体的实现合起来



分工：

架构师：EIT设计

核心骨干：EI
普通员工：T

![image-20221024193211838](01_%E6%9E%B6%E6%9E%84%E5%B8%88.assets/image-20221024193211838-166661113354510.png)



![image-20221024193247846](01_%E6%9E%B6%E6%9E%84%E5%B8%88.assets/image-20221024193247846-166661116920811.png)



![image-20221024193555716](01_%E6%9E%B6%E6%9E%84%E5%B8%88.assets/image-20221024193555716-166661135667812.png)

![image-20221024193708344](01_%E6%9E%B6%E6%9E%84%E5%B8%88.assets/image-20221024193708344-166661142947113.png)

组合方式，surfaceview即使T 又是E。





# Android的Java层框架

IoC（Inversion of Control）就是控制反转的意思。观念和机制源自于OOP语言的<基类/子类>结构。基类的函数可以主动呼叫子类函数，这就是所谓的IoC机制。后来将这些基类聚集起来，就称之为框架

与之对应的是正向调用：就是子类调用基类的函数。

![image-20221025184648287](01_%E6%9E%B6%E6%9E%84%E5%B8%88.assets/image-20221025184648287-166669480938614.png)

基类的主导权

反向调用：框架掌握主导权

![image-20221025184843200](01_%E6%9E%B6%E6%9E%84%E5%B8%88.assets/image-20221025184843200-166669492427315.png)



反向调用引发的正向调用则是允许的。



![image-20221025185543589](01_%E6%9E%B6%E6%9E%84%E5%B8%88.assets/image-20221025185543589-166669534575916.png)

Android这4大基类。

**谁来创建子类的对象呢？**

这4中应用子类都是由Android框架来创建其对象的，比如activity中是不适合创建另外3个的。（动态广播怎么说？理解思想就好了）

不过有趣的是：**框架基类在先，应用子类在后**框架如何知道开发者后来创建的应用子类的名称呢？如果不知道应用子类的名称，又如何创建子类的对象呢？

**答案是：依赖AndroidManifest.xml** 在执行阶段run-time，Android框架读取这个xml文件，就知道了需要创建的子类





Intent-based Programming技术

嫡系应用子类之间如何互相沟通呢？

就跟滴滴打车一样，在软件上下个单，表明你的意图（intent），服务端根据意图的内涵条件去派单。

Android中intent就是提供【activity组件 -> Android框架 ->contentprovider组件】的相关信息。





**四大组件相互启动关系**













































































































































































































































各个角色中地**简单与复杂地关系**

决策者，开发者，使用者 中地简单&复杂。



**架构设计分为A段和B段架构设计**

A段：是指“投资决策”或“开发签订合同”**之前**的产品或项目的规划阶段。 

​          A 段架构师需要具备：
​          1，商业模式&策略 -- 商业思维

​          2，创新产品

​          3，架构设计（以此衔接到B段架构）

![image-20221022153848110](01_%E6%9E%B6%E6%9E%84%E5%B8%88.assets/image-20221022153848110-16664243295522.png)

![image-20221022154144779](01_%E6%9E%B6%E6%9E%84%E5%B8%88.assets/image-20221022154144779-16664245057283.png)



商业模式和创新产品和复杂的，是做加法的。只有不断地各个角度地加法，才能是产品得到理解和具备竞争力。而架构设计则是减法，只有复杂东西简单化才能理解复杂，掌握复杂，真正指导落地。比如牛顿F=ma 公式就是力学复杂世界地简单化表示。

复杂多变地商业模式和创新产品 到 简单地造型和架构。 让人们从简单中理解复杂地关系。



面对复杂，架构师必须设计出简单，让相关人员能享受从简单中理解复杂地满足感

商业模式是复杂地，架构师必须设计出简单，才能进一步支撑复杂地产品创新活动，指导落地，才能让投资者有信心。



复杂多变地软件系统 到 简单地代码造型

减法设计地举例：

面对加法地复杂性，人们寻求减法设计来简化复杂性。例如，移动互联网，物联网等大家都期待协议地统一化，标准化等。



有效地减法设计：

![image-20221022155313444](01_%E6%9E%B6%E6%9E%84%E5%B8%88.assets/image-20221022155313444-16664251957774.png)

























B段：是指“投资决策”或“开发签订合同”**之后**的开发建设阶段

![image-20221022152547894](01_%E6%9E%B6%E6%9E%84%E5%B8%88.assets/image-20221022152547894-16664235496681.png)



**A段架构师提供更多建议给决策者。**





## 软硬结合商业模式范例

